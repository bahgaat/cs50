{"changed":true,"filter":false,"title":"helpers.py","tooltip":"/helpers.py","value":"import requests\nimport urllib.parse\n\nfrom flask import redirect,render_template,request,session\nfrom functools import wraps\n\n\n#def apology( message,code=400):\n  \n        \n    #return render_template(\"apology.html\", tope=code,bottom=message ),code\n    \n\n\n\n\ndef login_required(f):\n    \"\"\"\n    http://flask.pocoo.org/docs/1.0/patterns/viewdecorators/\n    \"\"\"\n    @wraps(f)\n    def decorated_function(*args,**kwargs):\n        if session.get(\"user_id\") is None:\n            return redirect(\"/login\")\n        return f(*args,**kwargs)\n    return decorated_function","undoManager":{"mark":-2,"position":1,"stack":[[{"start":{"row":7,"column":0},"end":{"row":7,"column":1},"action":"insert","lines":["#"],"id":1}],[{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"insert","lines":["#"],"id":2}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":10,"column":5},"end":{"row":10,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":27,"mode":"ace/mode/python"}},"timestamp":1561204763000}